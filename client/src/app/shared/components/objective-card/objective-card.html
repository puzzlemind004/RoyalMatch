<!-- Objective Card Component -->
<div
  class="relative rounded-lg border-2 p-4 transition-all duration-200 hover:shadow-lg"
  [class.opacity-50]="isRejected()"
  [class.border-gray-300]="!isRejected()"
  [class.border-red-500]="isRejected()"
  [class.bg-red-50]="isRejected()"
  [class.bg-white]="!isRejected()"
>
  <!-- Rejected Badge -->
  @if (isRejected()) {
    <div
      class="absolute -right-2 -top-2 rounded-full bg-red-500 px-3 py-1 text-xs font-bold text-white"
    >
      {{ 'objectives.validation.rejected' | transloco }}
    </div>
  }

  <!-- Header: Category Icon + Difficulty Badge -->
  <div class="mb-3 flex items-center justify-between">
    <span class="text-2xl">{{ getCategoryIcon() }}</span>
    <span
      class="rounded-full px-3 py-1 text-xs font-semibold"
      [ngClass]="getDifficultyClasses()"
    >
      {{ getDifficultyLabel() }}
    </span>
  </div>

  <!-- Objective Name -->
  <h3 class="mb-2 text-lg font-bold text-gray-800 sm:text-xl">
    {{ getObjectiveName() }}
  </h3>

  <!-- Objective Description -->
  <p class="mb-3 text-sm text-gray-600 sm:text-base">
    {{ getObjectiveDescription() }}
  </p>

  <!-- Points -->
  <div class="mb-3 flex items-center justify-between">
    <span class="text-xl font-bold text-blue-600">
      {{ 'objectives.validation.points' | transloco: { points: objective().points } }}
    </span>
  </div>

  <!-- Actions -->
  @if (showActions() && !isRejected()) {
    <div class="mt-3 border-t pt-3">
      <button
        type="button"
        class="w-full rounded-lg border-2 border-red-500 bg-white px-4 py-2 text-sm font-semibold text-red-600 transition-colors hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-50"
        [disabled]="!canReject()"
        (click)="onReject()"
      >
        {{ 'objectives.validation.rejectButton' | transloco }}
      </button>
    </div>
  }
</div>
